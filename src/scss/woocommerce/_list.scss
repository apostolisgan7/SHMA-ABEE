// WooCommerce Shop/Archive Pages
.woocommerce {
  // Shop header
  .woocommerce-breadcrumb {
    @apply text-sm text-gray-600 mb-6;

    a {
      @apply text-primary-600 hover:text-primary-800 transition-colors;
    }
  }

  .woocommerce-products-header {
    @apply mb-8 pb-6 border-b border-gray-200;

    .page-title {
      @apply text-3xl md:text-4xl font-bold text-dark-900 mb-2;
    }
  }

  // Shop controls
  .woocommerce-result-count {
    @apply text-gray-600 text-sm my-4;
  }

  // Shop view toggle
  .shop-view-toggle {
    @apply flex items-center space-x-2 mb-4;

    button {
      @apply p-2 rounded-md hover:bg-gray-100 text-gray-500 hover:text-primary-600 transition-colors;

      &.active {
        @apply bg-primary-100 text-primary-600;
      }

      svg {
        @apply w-5 h-5;
      }
    }
  }

  // Ordering dropdown
  .woocommerce-ordering {
    @apply mb-6;

    .orderby {
      @apply bg-white border border-gray-300 rounded-lg px-4 py-2 pr-8 text-sm text-gray-700 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 appearance-none bg-no-repeat;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E");
      background-position: right 0.5rem center;
      background-size: 1.5em 1.5em;

      &:focus {
        @apply outline-none ring-2 ring-offset-2 ring-primary-500/20;
      }
    }
  }

  // Product grid
  ul.products {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8;

    &:before {
      display: none;
    }

    li.product {
      @apply bg-white rounded-xl shadow-sm overflow-hidden transition-all duration-300 hover:shadow-lg hover:-translate-y-1 border border-gray-100;
      width: 100%;

      .woocommerce-loop-product__link {
        @apply block;

        img {
          @apply w-full h-64 object-cover transition-transform duration-300 ease-in-out;
        }

        &:hover img {
          @apply transform scale-105;
        }
      }

      .woocommerce-loop-product__title {
        @apply text-base font-medium text-dark-900 px-4 pt-4 mb-1 line-clamp-2 hover:text-primary-600 transition-colors;
      }

      .price {
        @apply px-4 pb-4 block;

        .woocommerce-Price-amount {
          @apply text-lg font-bold text-primary-600;
        }

        del {
          @apply text-gray-500 text-sm mr-1;

          .woocommerce-Price-amount {
            @apply text-gray-500 text-sm font-normal;
          }
        }

        ins {
          @apply no-underline;
        }
      }

      .button {
        @apply mx-4 mb-4 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg text-sm font-medium transition-colors duration-200 flex items-center justify-center w-[calc(100%-2rem)];

        &:hover {
          @apply transform translate-y-0 shadow-md;
        }

        &.loading {
          @apply opacity-75 cursor-not-allowed;

          &::after {
            @apply animate-spin -ml-1 mr-2 h-4 w-4 text-white;
            content: "";
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
          }
        }

        &.added {
          @apply bg-green-600 hover:bg-green-700;
        }
      }

      .added_to_cart {
        @apply hidden;
      }

      // Sale badge
      .onsale {
        @apply absolute top-3 right-3 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full z-10;
      }

      // Out of stock
      &.outofstock {
        .woocommerce-loop-product__link::after {
          @apply absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center text-white font-medium text-sm;
          content: 'Out of Stock';
        }
      }
    }

    // Pagination
    .woocommerce-pagination {
      @apply mt-12 text-center;

      ul {
        @apply inline-flex space-x-1;

        li {
          @apply inline-block;

          a, span {
            @apply px-4 py-2 rounded-md transition-colors duration-200;
          }

          a {
            @apply bg-white text-dark-700 hover:bg-gray-100;
          }

          span.current {
            @apply bg-primary-600 text-white;
          }

          .next, .prev {
            @apply font-medium;
          }
        }
      }
    }
  }

  // Responsive adjustments
  // Responsive adjustments for product grid
  @media (max-width: 768px) {
    .products {
      @apply gap-3;

      li.product {
        @apply text-sm;
      }

      // Adjust columns on tablet
      &.columns-4,
      &.columns-5,
      &.columns-6 {
        @apply grid-cols-2;
      }
    }
  }

  @media (max-width: 480px) {
    .products {
      @apply grid-cols-1 gap-4;
    }
  }
}
